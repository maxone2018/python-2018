# coding: UTF-8
# Author: Max

# 电子书阅读系统
# 1.自动模式，读取一篇文章，默认每三秒自动加载三行内容
# 2.手动模式，手动输入n，加载三行，再输入n，继续加载下面三行

#分析：
#1.手动模式，利用循环并且使用条件语句判断输入的是否是n，是就加载，不是的话就跳出阅读
#2.自动模式 每三秒再加载  用到time.sleep(3)功能  加载3行肯定是readline()三次



import time   #time模块

while True:
    choose = input('欢迎来到电子书阅读系统，自动模式请输入【a】，手动模式请输入【h】，请选择：')
    if choose == 'a':
        with open('e-book.txt', 'r') as book:     #读方式打开文件
            n = 0
            l = len(book.readlines())  # 表示获取文件的行数，此处是45
            book.seek(0, 0)    #指针放到开始
            print('\n********************************小说开始自动加载！*******************************')
            while n <= l:
                print(book.readline(), end='')
                print(book.readline(), end='')
                print(book.readline(), end='')
                time.sleep(3)    #睡眠3秒
                n += 3
            print('\n********************************小说全部加载完毕！*******************************')
            break   #加载完毕跳出整个循环

    elif choose == 'h':
        book = open('e-book.txt', 'r')   #用读取模式r打开文本文件
        print('\n********************************小说现在开始加载！*******************************')
        while True:     #while循环
            hand = input('连续加载电子书请输入【n】，停止加载请输入任意字符：')
            if hand == 'n':  #判断输入的内容是不是字母n
                #加载三行
                print(book.readline(), end='')
                print(book.readline(), end='')
                print(book.readline())
                if book.readline() == '':     #条件语句，如果读取的内容为空，即加载完成
                    book.close()      #文件关闭
                    print('\n********************************小说全部加载完毕！*******************************')
                    break       #跳出自动加载循环
            else:
                #输入的不是n,则关闭文件，退出循环
                print('***********************************退出阅读！***********************************')
                book.close()       #关闭文件
                break
        break       #加载完成，则跳出整个加载循环
    else:        #如果输入的格式不对，报错
        print('输入错误，请按要求重新输入！\n')
